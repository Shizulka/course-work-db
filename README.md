# Документація проєкту

## Технічне

**Мова програмування:**
Python

**Framework:**

_FastAPI_ - маршрутизацію запитів та обробку HTTP-методів.

_Pytest_ - для тестів

**Бібліотеки:**

_Pydantic_- Для валідації та трансформації данних. Використовувалося у `schemas.py.`

**Сервер:**

_Uvicorn_ - необхідний для запуску FastAPI-додатку.

_Railway_ - використовується для хостингу та розгортання бази даних у мережі.

**Емейли:**

_email.mime та smtplib_ - для відправки сповіщень користувачам через емейл.

**База данниз:**

_PostgreSQL_ -для зберігання зв'язків між читачами та книгами.

_SQLAlchemy_ - для об'єктно-орієнтованої роботи з базою даних.

_psycopg2_ - для забезпечення технічного з'єднання між Python-кодом та сервером PostgreSQL.

**Інше:**

_Swagger UI_ - для візуалізації ендпоінтів API та тестувати їх прямо у браузері без написання фронтенду.

_Apscheduler_- для виконання фонових процесів за розкладом. Використовується в `scheduler.py`

_python-dotenv_- для .env файлу де ми зберігаємо доступ до пошти та бази данних.

## Архітектура

```
src/
├── database.py                    # Підключення до БД (SessionLocal)
├── main.py                        # Точка входу, запуск Scheduler
├── models.py                      # Опис таблиць (SQLAlchemy models)
├── scheduler.py                   # Налаштування фонових задач
├── schemas.py                     # Pydantic схеми (валідація)
├── .env                           # Паролі  почти та бази данних
├── routers/                       # Обробка HTTP запитів (Controller layer)
│   ├── books.py
│   └── patrons.py
└── services/                      # Бізнес-логіка (Service layer)
    ├── book_service.py
    └── patron_service.py
    repositories/                  # Шар доступу до даних
    ├── ult_repository.py          # Батьковий класс для всіх репо
    └── relations_repository.py    # Батьковий класс для таблиць багто до батьох

```

### 11.12.2025

Почали документацію,
запихнули міграції,
зробили models.py.

### 12.12.2025

Початок роботи над бекендом, змогли додати book, patron та checkout через пайтон.

### 13.12.2025

Так... copy_book, waitlist є. Переробили репрезиторії тепер все зберігається в одному. Зробили checkout і зробили так, щоб у copy_book віднімалася кількість доступних примірників, і коли вона дорівнюватиме 0 можна вже створювати вейтліст.

### 14.12.2025

Додали Notification , зв'язок автор\жанр до книг, вішліст, зробили повернення книги (так, ми тільки зараз зрозуміли, що в нас не було цього ;-;)

### 15.12.2025

Додали комплексний сценарій створення сутності "Видача книги з черги очікування".

СПОВІЩЕННЯ НА ЕМЕЙЛ ПРИХОДЯТЬ ВИ ШО
<img width="789" height="272" alt="image" src="https://github.com/user-attachments/assets/d50f2788-2284-4517-9101-bb0ad1679f06" />

### 16.12.2025

Зробили сотий коміт

[Ми ніколи вас не підведемо](https://youtu.be/dQw4w9WgXcQ)
